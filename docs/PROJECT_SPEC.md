# 📋 移动账本项目 - 需求规格文档

> 版本：1.0  
> 创建时间：2026-02-07  
> 状态：✅ 已确认

---

## 🔐 注册登录

| 功能 | 描述 |
|------|------|
| **注册方式** | 账号 + 密码（无需邮箱） |
| **邀请码机制** | 需要邀请码才能注册，防止随便注册 |
| **首位用户** | 第一位注册用户 = 超级管理员 |
| **邀请码配置** | 部署时由管理员设置默认值 |

---

## 💰 记账功能

### 日常记账
- 收入/支出记录
- 二级分类选择
- 备注字段（自由填写）
- 图标可视化

### 项目记账
| 字段 | 类型 | 描述 |
|------|------|------|
| 项目名 | string | 自由填写（旅游、装修等） |
| 人数 | int | 项目参与人数 |
| 预算 | decimal | 项目总预算 |
| 预算使用率 | computed | 自动计算：(已花费/预算)×100% |
| 人均消费 | computed | 自动计算：总花费/人数 |
| 开始时间 | datetime | 项目起始日期 |
| 结束时间 | datetime | 项目结束日期 |

---

## 🏷️ 分类系统

### 二级分类（默认提供）

| 一级分类 | 二级分类 |
|----------|----------|
| **🍔 餐饮** | 早餐、午餐、晚餐、下午茶、夜宵、奶茶咖啡、零食、外卖 |
| **🚗 交通** | 高铁、飞机、公交、地铁、打车、租车、加油、停车 |
| **🛒 购物** | 日用品、服装、数码、家居、美妆、超市 |
| **🏠 居住** | 房租、水电煤、物业、装修、家具 |
| **🎮 娱乐** | 电影、游戏、K歌、旅游、演出、健身 |
| **📚 教育** | 学费、书籍、课程、培训、考试 |
| **💊 医疗** | 药品、检查、住院、保险 |
| **💰 理财** | 投资、保险、还款、转账 |
| **🎁 人情** | 红包、礼物、请客 |
| **📱 通讯** | 话费、流量、宽带 |
| **💼 工作** | 办公、出差、兼职 |
| **🎫 其他** | 临时、未知 |

### 图标库
- **来源**：IconPark（字节跳动开源）+ Emoji
- **策略**：大分类用SVG图标，小分类用Emoji
- **部署**：初始化时自动创建默认分类

### 自定义分类
- 用户可添加私有分类
- 保持一级×二级结构
- 仅自己使用

### 备注字段
- 自由填写
- 示例：「XX餐厅」「XX店」「XX航班」

---

## 📊 统计分析

### 报表类型
- 日报、周报、月报、年报
- 分类报表
- 项目报表
- **交叉统计**：日常消费 + 项目消费 混合分析

### 图表可视化
- 饼图：分类占比
- 折线图：收支趋势
- 柱状图：多期间对比

### 预算控制
- 分类预算
- 超支提醒

---

## ⚙️ 管理后台

### 功能
- 用户管理（查看/禁用/删除）
- 全局分类管理
- 邀请码管理
- 系统配置

### 权限
- 首位用户 = 超级管理员
- 普通用户不可访问

---

## 🎨 技术要求

### 移动端适配
- 主流手机屏幕：320px → 428px+
- 响应式布局
- 触摸友好（按钮≥44px）
- 深色/浅色双主题

### UI设计
- 漂亮、舒适
- 简洁清爽
- 色彩和谐
- 留白合理
- 动效流畅

### 部署要求
- Docker 7×24小时运行
- PM2 + Guardian双守护
- SQLite轻量数据库

---

## ✅ 确认状态

| 模块 | 状态 | 确认人 | 确认时间 |
|------|------|--------|----------|
| 注册登录 | ✅ | 老细 | 2026-02-07 |
| 记账功能 | ✅ | 老细 | 2026-02-07 |
| 分类系统 | ✅ | 老细 | 2026-02-07 |
| 统计分析 | ✅ | 老细 | 2026-02-07 |
| 管理后台 | ✅ | 老细 | 2026-02-07 |
| 技术要求 | ✅ | 老细 | 2026-02-07 |

---

> 📝 文档版本：1.0  
> 下次更新：开发过程中
