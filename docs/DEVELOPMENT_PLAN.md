# 📅 开发计划文档

> 版本：1.0  
> 创建时间：2026-02-07  
> 状态：✅ 已确认

---

## 📋 开发阶段总览

```
Phase 0: 文档制作 ✅ (当前)
Phase 1: 后端基础 (Day 1-2)
Phase 2: 后端业务 (Day 3-4)
Phase 3: 前端基础 (Day 5-6)
Phase 4: 前端核心 (Day 7-10)
Phase 5: 部署测试 (Day 11-12)
```

---

## Phase 1: 后端基础

### 1.1 FastAPI项目初始化 + CORS配置
| 项目 | 值 |
|------|------|
| **预计时间** | 30分钟 |
| **任务** | 创建项目结构、配置、路由 |
| **产出物** | backend/main.py, requirements.txt |

**详细任务**：
- [ ] 创建backend目录
- [ ] 创建虚拟环境
- [ ] 安装依赖（fastapi, uvicorn, sqlalchemy, pydantic, pyjwt, python-jose）
- [ ] 创建main.py入口
- [ ] 配置CORS
- [ ] 配置数据库连接
- [ ] 创建Dockerfile

---

### 1.2 数据库模型设计
| 项目 | 值 |
|------|------|
| **预计时间** | 1小时 |
| **任务** | 创建所有数据表模型 |
| **产出物** | backend/app/models/ |

**详细任务**：
- [ ] 创建users模型
- [ ] 创建categories模型
- [ ] 创建ledger_records模型
- [ ] 创建projects模型
- [ ] 创建system_config模型
- [ ] 创建invitation_codes模型
- [ ] 创建数据库初始化脚本

---

### 1.3 JWT认证系统
| 项目 | 值 |
|------|------|
| **预计时间** | 1小时 |
| **任务** | 注册/登录/验证中间件 |
| **产出物** | backend/app/auth/ |

**详细任务**：
- [ ] 创建密码加密工具
- [ ] 创建JWT token生成/验证
- [ ] 创建注册接口（含邀请码验证）
- [ ] 创建登录接口
- [ ] 创建认证依赖（AuthDependency）
- [ ] 创建管理员权限依赖

---

### 1.4 CRUD基础API
| 项目 | 值 |
|------|------|
| **预计时间** | 2小时 |
| **任务** | 基础CRUD接口 |
| **产出物** | backend/app/routers/ |

**详细任务**：
- [ ] 创建users CRUD
- [ ] 创建categories CRUD
- [ ] 创建records CRUD
- [ ] 创建projects CRUD
- [ ] 创建configs CRUD
- [ ] 创建invitation_codes CRUD

---

### 1.5 默认分类初始化
| 项目 | 值 |
|------|------|
| **预计时间** | 30分钟 |
| **任务** | 初始化默认分类数据 |
| **产出物** | backend/scripts/init_categories.py |

---

## Phase 2: 后端业务

### 2.1 记账API
| 项目 | 值 |
|------|------|
| **预计时间** | 2小时 |
| **任务** | 完善记账业务逻辑 |
| **产出物** | 更复杂的记账API |

**详细任务**：
- [ ] 添加分类验证
- [ ] 添加项目关联
- [ ] 添加预算计算
- [ ] 添加人均计算

---

### 2.2 分类API
| 项目 | 值 |
|------|------|
| **预计时间** | 1小时 |
| **任务** | 完善分类业务逻辑 |
| **产出物** | 分类API增强 |

**详细任务**：
- [ ] 私有分类逻辑
- [ ] 分类图标
- [ ] 分类排序

---

### 2.3 统计API
| 项目 | 值 |
|------|------|
| **预计时间** | 2小时 |
| **任务** | 统计报表接口 |
| **产出物** | stats router |

**详细任务**：
- [ ] 仪表盘统计
- [ ] 按分类统计
- [ ] 按项目统计
- [ ] 交叉统计SQL
- [ ] 图表数据格式化

---

### 2.4 管理后台API
| 项目 | 值 |
|------|------|
| **预计时间** | 1小时 |
| **任务** | 管理员专用接口 |
| **产出物** | admin router |

**详细任务**：
- [ ] 用户列表/禁用
- [ ] 全局分类管理
- [ ] 邀请码生成

---

### 2.5 Docker化
| 项目 | 值 |
|------|------|
| **预计时间** | 30分钟 |
| **任务** | Docker部署配置 |
| **产出物** | docker-compose.yml |

---

## Phase 3: 前端基础

### 3.1 Vue项目初始化
| 项目 | 值 |
|------|------|
| **预计时间** | 30分钟 |
| **任务** | 创建Vue项目 |
| **产出物** | frontend/ |

**详细任务**：
- [ ] 使用Vite创建Vue3项目
- [ ] 安装Vant UI
- [ ] 安装Pinia
- [ ] 安装Vue Router
- [ ] 安装Axios
- [ ] 安装ECharts
- [ ] 配置Vant主题
- [ ] 创建Dockerfile

---

### 3.2 路由 + 状态管理
| 项目 | 值 |
|------|------|
| **预计时间** | 30分钟 |
| **任务** | 基础架构 |
| **产出物** | stores/, router/ |

**详细任务**：
- [ ] 配置Vue Router
- [ ] 创建auth store
- [ ] 创建categories store
- [ ] 创建records store
- [ ] 创建projects store

---

### 3.3 API封装
| 项目 | 值 |
|------|------|
| **预计时间** | 30分钟 |
| **任务** | Axios封装 |
| **产出物** | api/ |

**详细任务**：
- [ ] 创建API基础配置
- [ ] 封装auth API
- [ ] 封装categories API
- [ ] 封装records API
- [ ] 封装projects API
- [ ] 封装stats API

---

### 3.4 登录注册页面
| 项目 | 值 |
|------|------|
| **预计时间** | 1小时 |
| **任务** | 登录注册页面 |
| **产出物** | views/Login.vue, Register.vue |

---

### 3.5 主界面布局
| 项目 | 值 |
|------|------|
| **预计时间** | 30分钟 |
| **任务** | 底部导航 + 布局 |
| **产出物** | App.vue, Layout.vue |

---

## Phase 4: 前端核心

### 4.1 记账页面
| 项目 | 值 |
|------|------|
| **预计时间** | 2小时 |
| **任务** | 记账核心页面 |
| **产出物** | views/Record.vue |

**详细任务**：
- [ ] 金额输入
- [ ] 二级分类选择
- [ ] 图标选择器
- [ ] 备注输入
- [ ] 项目选择
- [ ] 日期选择

---

### 4.2 项目管理页面
| 项目 | 值 |
|------|------|
| **预计时间** | 1.5小时 |
| **任务** | 项目CRUD |
| **产出物** | views/Projects.vue, ProjectDetail.vue |

---

### 4.3 统计页面
| 项目 | 值 |
|------|------|
| **预计时间** | 2小时 |
| **任务** | 图表展示 |
| **产出物** | views/Stats.vue |

**详细任务**：
- [ ] 饼图组件
- [ ] 折线图组件
- [ ] 柱状图组件
- [ ] 日期筛选
- [ ] 分类筛选

---

### 4.4 个人中心
| 项目 | 值 |
|------|------|
| **预计时间** | 1小时 |
| **任务** | 用户设置 |
| **产出物** | views/Profile.vue |

---

### 4.5 屏幕适配优化
| 项目 | 值 |
|------|------|
| **预计时间** | 1小时 |
| **任务** | 响应式适配 |
| **产出物** | 全局样式优化 |

---

## Phase 5: 部署测试

### 5.1 Docker部署
| 项目 | 值 |
|------|------|
| **预计时间** | 30分钟 |
| **任务** | Docker配置 |
| **产出物** | docker-compose.yml完善 |

---

### 5.2 PM2 Guardian守护
| 项目 | 值 |
|------|------|
| **预计时间** | 30分钟 |
| **任务** | 进程守护 |
| **产出物** | PM2配置 |

---

### 5.3 测试修复
| 项目 | 值 |
|------|------|
| **预计时间** | 2小时 |
| **任务** | Bug修复 |
| **产出物** | 稳定版本 |

---

### 5.4 文档
| 项目 | 值 |
|------|------|
| **预计时间** | 1小时 |
| **任务** | README |
| **产出物** | 项目文档 |

---

## ✅ 确认状态

| Phase | 状态 | 开始时间 | 结束时间 |
|-------|------|----------|----------|
| Phase 0 | ✅ | 2026-02-07 | - |
| Phase 1 | ⏳ | - | - |
| Phase 2 | ⏳ | - | - |
| Phase 3 | ⏳ | - | - |
| Phase 4 | ⏳ | - | - |
| Phase 5 | ⏳ | - | - |

---

> 📝 文档版本：1.0  
> 下次更新：每个Phase开始前
